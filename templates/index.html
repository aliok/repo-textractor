<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RepoTextractor</title>
    <link rel="stylesheet" href="/static/style.css">
</head><body>
<div class="container">
    <header>
        <h1>RepoTextractor</h1>
        <p>Convert a public GitHub repository into a single text file for LLMs.</p>
    </header>

    <main>
        <div class="input-section">
            <input type="text" id="repo-url" placeholder="Enter a public GitHub URL (e.g., https://github.com/owner/repo)">
            <button id="preview-btn">Preview</button>
        </div>

        <div id="loading-indicator" class="hidden">
            <div class="spinner"></div>
            <p>Fetching repository file tree...</p>
        </div>

        <div id="error-message" class="hidden"></div>

        <div id="config-section" class="hidden">
            <h2>Configure Files to Include</h2>
            <div class="filters">
                <div class="filter-item">
                    <label for="max-size">Exclude files larger than (KB):</label>
                    <input type="number" id="max-size" placeholder="e.g., 100">
                </div>
                <div class="filter-item">
                    <label for="glob-patterns">Filter by gitignore-style glob patterns:</label>
                    <textarea id="glob-patterns" rows="4" placeholder="e.g.,&#10;To include only Python files: &#10;*.py&#10;To exclude all log files: &#10;!*.log&#10;To include src/ but exclude tests/: &#10;src/&#10;!src/tests/"></textarea>
                </div>
                <div class="filter-item info-filter">
                    <input type="checkbox" id="binary-filter" checked disabled>
                    <label for="binary-filter">Automatically exclude non-text/binary files</label>
                    <small>(This is determined by checking file contents.)</small>
                </div>
            </div>

            <h3>Select Files and Directories</h3>
            <div id="file-tree"></div>

            <button id="generate-btn">Generate</button>
        </div>

        <div id="processing-indicator" class="hidden">
            <div class="spinner"></div>
            <p>Processing repository... This may take a few minutes for large repos.</p>
        </div>

        <div id="output-section" class="hidden">
            <h2>Generated Output</h2>
            <button id="copy-btn">Copy to Clipboard</button>
            <textarea id="output-text" readonly></textarea>
        </div>
    </main>
</div>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/static/script.js"></script>
</body>
</html>
